# ==================================
# CONFIGURATION HELIXONE BACKEND
# ==================================
# Copiez ce fichier en .env et remplissez avec vos vraies valeurs

# Base de données
# SQLite (recommandé pour débuter - aucune installation requise)
DATABASE_URL=sqlite:///./helixone.db

# PostgreSQL (production - décommentez et configurez si nécessaire)
# DATABASE_URL=postgresql://username:password@localhost:5432/helixone

# Redis (optionnel - pour le cache et les sessions)
# Laissez commenté si Redis n'est pas installé, l'app fonctionnera quand même
# REDIS_URL=redis://localhost:6379/0

# Sécurité JWT
# ⚠️ IMPORTANT: Cette clé sera générée automatiquement par setup.sh
# Si vous l'installez manuellement, générez une clé unique avec:
# python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGEZ_MOI_AVEC_UNE_CLE_SECURISEE
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ==================================
# API KEYS - DATA SOURCES
# ==================================

# Yahoo Finance (pas de clé, mais peut rate limit)
YAHOO_API_KEY=

# Finnhub (Gratuit: 60 req/min) - https://finnhub.io/register
FINNHUB_API_KEY=your_key_here

# Alpha Vantage (Gratuit: 5 req/min) - https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_key_here

# Financial Modeling Prep (Gratuit: 250 req/jour) - https://site.financialmodelingprep.com/
FMP_API_KEY=your_key_here

# Polygon.io (Gratuit: 5 req/min) - https://polygon.io/
POLYGON_API_KEY=your_key_here

# Twelve Data (Gratuit: 8 req/min) - https://twelvedata.com/
TWELVEDATA_API_KEY=your_key_here

# IEX Cloud (Gratuit: 50k messages/mois) - https://iexcloud.io/
IEX_CLOUD_API_KEY=your_key_here

# Marketstack (Gratuit: 100 req/mois) - https://marketstack.com/
MARKETSTACK_API_KEY=your_key_here

# FRED - Federal Reserve (GRATUIT ILLIMITÉ!) - https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_key_here

# Stripe (laissez vide si non utilisé)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Email - SMTP (Gmail: créez un "mot de passe d'application" dans les paramètres Google)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=votre_email@gmail.com
SMTP_PASSWORD=votre_mot_de_passe_application
FROM_EMAIL=votre_email@gmail.com

# Sentry (monitoring - laissez vide si non utilisé)
SENTRY_DSN=

# Application
APP_NAME=HelixOne API
APP_VERSION=1.0.0
ENVIRONMENT=development
BACKEND_URL=http://localhost:8000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# CORS - FORMAT JSON (avec guillemets et crochets)
CORS_ORIGINS=["http://localhost","http://localhost:8000","helixone://"]

# ==================================
# MACHINE LEARNING & PRÉDICTIONS
# ==================================

# Activer l'entraînement automatique à la demande pour TOUT ticker
# Quand activé, un modèle sera entraîné automatiquement pour chaque nouveau ticker
ML_AUTO_TRAIN_ENABLED=true

# Âge maximum d'un modèle avant réentraînement (en jours)
ML_MODEL_MAX_AGE_DAYS=7

# ==================================
# RÉENTRAÎNEMENT AUTOMATIQUE ML
# ==================================

# Activer le réentraînement périodique des modèles existants
AUTO_RETRAIN_ENABLED=true

# Fréquence de réentraînement (en jours)
# 1 = tous les jours, 7 = toutes les semaines
AUTO_RETRAIN_INTERVAL_DAYS=7

# Heure du réentraînement (0-23)
# 2 = 2h du matin (recommandé pour éviter pics d'usage)
AUTO_RETRAIN_HOUR=2

# Tickers prioritaires à réentraîner automatiquement (séparés par virgule)
# Note: N'importe quel ticker peut maintenant avoir des prédictions ML!
AUTO_RETRAIN_TICKERS=AAPL,MSFT,GOOGL,TSLA,NVDA,META,AMZN,NFLX
